/* 
 * BadgeCard.css
 * Styles for the 3D flippable badge card component
 * generated by Claude 3.7 Sonnet
 */

/* Card Container - Establishes the 3D space */
.badge-card-container {
  @apply relative;
  height: 420px;
  width: 280px;
  margin-top: -10%;
  perspective: 1000px; /* 3D perspective for the flip effect */
  transform-style: preserve-3d; /* Maintain 3D space for children */
  transform: translateZ(0); /* Force GPU acceleration */
}

/* Card Inner - Handles the 3D transformation */
.badge-card-inner {
  @apply relative w-full h-full;
  transition: transform 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
  transform-style: preserve-3d;
  transform-origin: center center; /* Set transform origin to center */
}

/* Flipped state */
.badge-card-inner.flipped {
  transform: rotateY(180deg);
}

/* Common styles for both card faces */
.card-face {
  @apply absolute w-full h-full flex flex-col justify-between;
  backface-visibility: hidden;
  border-radius: var(--radius);
  padding: 1.5rem;
  position: absolute; /* Ensure absolute positioning */
  top: 0;
  left: 0;
  /* Adjusted box-shadow for a more pronounced 3D effect */
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25),
    /* Deeper shadow for lift */ 0 4px 8px rgba(0, 0, 0, 0.2),
    /* Softer, closer shadow */ inset 0 0 0 1.5px rgba(255, 255, 255, 0.2),
    /* Inner highlight for plastic edge */ inset 0 2px 3px rgba(0, 0, 0, 0.2); /* Inner shadow for depth */
  backdrop-filter: blur(
    8px
  ); /* Slightly increased blur for a smoother plastic look */
  border: 1px solid rgba(255, 255, 255, 0.15); /* Slightly more opaque border */
  --card-glow: rgba(120, 120, 255, 0.08);
  position: relative; /* Needed for pseudo-elements */
}

/* Adding a pseudo-element for the card thickness effect */
.card-face::after {
  content: "";
  @apply absolute top-0 left-0 right-0 bottom-0 z-[-1];
  border-radius: var(--radius);
  transform: translateZ(
    -5px
  ); /* Pushes the pseudo-element back to create thickness */
  background: linear-gradient(
    145deg,
    rgba(200, 200, 210, 0.5),
    rgba(180, 180, 190, 0.5)
  ); /* Light grey for plastic edge */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  pointer-events: none; /* Prevent interference with interactions */
}

/* Dark theme specific styles */
:root[class~="dark"] .card-face {
  background-image: linear-gradient(
    145deg,
    rgba(38, 38, 42, 0.8) 0%,
    /* Slightly adjusted base for dark theme */ rgba(33, 33, 38, 0.85) 50%,
    rgba(28, 28, 32, 0.9) 100%
  );
  /* Adjusted box-shadow for dark theme */
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.35),
    /* Deeper shadow for lift */ 0 4px 8px rgba(0, 0, 0, 0.3),
    /* Softer, closer shadow */ inset 0 0 0 1.5px rgba(255, 255, 255, 0.08),
    /* Subtle inner highlight for plastic edge */ inset 0 1px 2px
      rgba(0, 0, 0, 0.25); /* Reduced inner shadow for depth */
  --card-glow: rgba(80, 80, 255, 0.1);
}

/* Dark theme card thickness */
:root[class~="dark"] .card-face::after {
  background: linear-gradient(
    145deg,
    rgba(45, 45, 55, 0.65),
    rgba(37, 37, 47, 0.65)
  ); /* Adjusted darker grey for plastic edge in dark mode */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
}

/* Top edge highlight effect */
.card-face::before {
  content: "";
  @apply absolute top-0 left-0 right-0 z-[1];
  height: 5px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);
}

/* Remove top edge highlight effect in dark mode */
:root[class~="dark"] .card-face::before {
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.04),
    transparent
  );
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
}

/* Back face needs to be rotated 180 degrees */
.back-face {
  transform: rotateY(180deg);
  position: absolute;
  top: 0;
  left: 0;
}
